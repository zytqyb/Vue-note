<!DOCTYPE html>
<html lang="zh-CN">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>04-Promise的链式调用(二)</title>
</head>

<body>
	<script type="text/javascript">


		// wrapped into
		// 网络请求: aaa -> 自己处理(10行)
		// 处理: aaa111 -> 自己处理(10行)
		// 处理: aaa111222 -> 自己处理
		// 1. new Promise(resolve => resolve(结果))写法
		// new Promise((resolve, reject) => {
		// 	setTimeout(() => {
		// 		resolve('aaa')
		// 	}, 1000)
		// }).then(res => {
		// 	// 1.自己处理10行代码
		// 	console.log(res, '第一层的十行处理代码');
		// 	// 2.对结果进行第一次处理
		// 	return new Promise((resolve, reject) => {
		// 		// resolve(res + '111')
		// 		reject('err')
		// 	})
		// }).then((res) => {
		// 	console.log(res, '第二层的10行处理代码');
		// 	return new Promise((resolve) => {
		// 		resolve(res + '222')
		// 	})
		// }).then((res) => {
		// 	console.log(res, '第三层的10行处理代码');
		// }).catch(err => {
		// 	console.log(err);
		// })


		// 2.new Promise(resolve => resolve(结果))简写
		// new Promise((resolve, reject) => {
		// 	setTimeout(() => {
		// 		resolve('aaa')
		// 	}, 1000)
		// }).then(res => {
		// 	// 1.自己处理10行代码
		// 	console.log(res, '第一层的十行处理代码');
		// 	// 2.对结果进行第一次处理
		// 	// return Promise.reject('err')
		// 	// 手动抛出异常
		// 	throw 'error'
		// }).then((res) => {
		// 	console.log(res, '第二层的10行处理代码');
		// 	return Promise.resolve(res + '222')
		// }).then((res) => {
		// 	console.log(res, '第三层的10行处理代码');
		// }).catch(err => {
		// 	console.log(err);
		// })

		// 3.省略Promise.resolve
		// new Promise((resolve, reject) => {
		// 	setTimeout(() => {
		// 		resolve('aaa')
		// 	}, 1000)
		// }).then(res => {
		// 	// 1.自己处理10行代码
		// 	console.log(res, '第一层的十行处理代码');

		// 	// 2.对结果进行第一次处理
		// 	return res + '111'
		// }).then((res) => {
		// 	console.log(res, '第二层的10行处理代码');

		// 	return res + '222'
		// }).then((res) => {
		// 	console.log(res, '第三层的10行处理代码');
		// })

	</script>
</body>

</html>