<!DOCTYPE html>
<html lang="zh-CN">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>05-Promise的all方法使用</title>
</head>

<body>
	<script type="text/javascript">
		// // 请求一:
		// let  isResult1 = false
		// let  isResult2 = false

		// $ajax({
		// 	url: '',
		// 	success: function() {
		// 		console.log('结果1');
		// 		isResult1 = true
		// 		handleResult()
		// 	}
		// })
		// // 请求二:
		// $ajax({
		// 	url: '',
		// 	success: function() {
		// 		console.log('结果2');
		// 		isResult2 = true
		// 		handleResult()
		// 	}
		// })
		// function handleResult() {
		// 	if (isResult1 && isResult2) {
		// 		// 操作
		// 	}
		// }

		Promise.all([
			// new Promise((resolve, reject) => {
			// 	$ajax({
			// 		url: 'url1',
			// 		success: function (data) {
			// 			resolve(data)
			// 		}
			// 	})
			// }),
			// new Promise((resolve, reject) => {
			// 	$ajax({
			// 		url: 'url2',
			// 		success: function (data) {
			// 			resolve(data)
			// 		}
			// 	})
			// })

			new Promise((resolve, reject) => {
				setTimeout(() => {
					resolve('result1')
				}, 2000)
			}),
			new Promise((resolve, reject) => {
				setTimeout(() => {
					resolve('result2')
				}, 1000)
			})

		]).then(results => {
			console.log(results);
		})

	</script>
</body>

</html>